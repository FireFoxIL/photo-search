{% extends 'base.html' %}

{% block content %}
<div>
    <div class="section">
        <div class="container">
            <div class="title">Images</div>
            <form method="post" enctype="multipart/form-data" novalidate>
                <div class="field has-addons">
                    <div class="control">
                        <input class="input" type="file"  name="images" multiple>
                    </div>
                    <div class="control">
                        {% if allow_input %}
                        <button class="button is-info" type="submit" >
                            Update
                        </button>
                        {% else %}
                        <button class="button is-info" type="button" disabled>
                            Update
                        </button>
                        {% endif %}
                    </div>
                </div>
            </form>
        </div>
    </div>
    {% for imgs in images | batch(3) %}
    <div class="columns has-same-height">
        {% for img in imgs %}
        <div class="column is-4">
            <div class="card">
                <div class="card-image">
                    <figure class="image">
                        <img src=".{{ img.image.url }}">
                    </figure>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endfor %}
    <div class="columns">
        <div class="column is-one-quarter is-offset-one-third">
            <nav class="level">
                <div class="level-item has-text-centered">
                    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
                        {% if has_previous_page %}
                            <a href="?page={{ prev_page }}" class="pagination-previous">Previous</a>
                        {% else %}
                            <a class="pagination-previous" disabled>Previous</a>
                        {% endif %}
                        {% if has_next_page %}
                            <a href="?page={{ next_page }}" class="pagination-next">Next</a>
                        {% else %}
                            <a class="pagination-next" disabled>Next</a>
                        {% endif %}
                        <ul class="pagination-list"><li>
                            <a class="pagination-link is-current" href="?page={{ cur_page }}">{{ cur_page }}</a>
                        </li></ul>
                    </nav>
                </div>
            </nav>
        </div>
    </div>
</div>
{% endblock %}
